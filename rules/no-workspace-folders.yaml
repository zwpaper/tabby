id: no-workspace-folders
language: tsx
rule:
  any:
    - pattern: $$$.workspaceFolders
    - pattern: $$$.asRelativePath
message: "Do not access workspace.workspaceFolders directly. Use the workspace helpers instead."
severity: error
ignores:
  - "**/__test__/**"
  - "packages/vscode/src/extension.ts"
  - "packages/vscode/src/tab-completion/utils/workspace.ts"
  - "packages/vscode/src/lib/workspace-scoped.ts"
files:
  - "packages/vscode/src/**/*.ts"
